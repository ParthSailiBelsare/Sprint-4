<!DOCTYPE html>
<html lang="en">

<head>
    <title>User Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">
<div class="container mt-5">
    <h1 class="text-center">Welcome, <span th:text="${username}">User</span>!</h1>

    <h3 class="mt-4">Available Books</h3>
    <ul class="list-group mt-3">
        <li th:each="book : ${books}" class="list-group-item">
            <span th:text="${book.title} + ' by ' + ${book.author}"></span>
            <form action="/user/borrow-book" method="post" class="d-inline">
                <input type="hidden" name="bookId" th:value="${book.id}" />
                <button type="submit" class="btn btn-primary btn-sm">Borrow</button>
            </form>
        </li>
    </ul>

    <h3 class="mt-4">Your Borrowed Books</h3>
    <ul class="list-group mt-3">
        <li th:each="history : ${borrowHistory}" class="list-group-item">
            <span th:text="${history.bookTitle}"></span>
            <form action="/user/return-book" method="post" class="d-inline">
                <input type="hidden" name="bookId" th:value="${history.bookId}" />
                <button type="submit" class="btn btn-danger btn-sm">Return</button>
            </form>
        </li>
    </ul>

    <a href="/logout" class="btn btn-danger mt-4">Logout</a>
</div>
</body>

</html>
